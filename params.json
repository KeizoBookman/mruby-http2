{"name":"mruby-http2","tagline":"HTTP2 Module for mruby","body":"# HTTP2 Module for mruby  [![Build Status](https://travis-ci.org/matsumoto-r/mruby-http2.png?branch=master)](https://travis-ci.org/matsumoto-r/mruby-http2)\r\nHTTP2 module for mruby using [nghttp2](https://github.com/tatsuhiro-t/nghttp2). You can access Web site using HTTP/2.0 protocol from mruby applications or devices with mruby.\r\n\r\n- [HTTP/2.0](http://http2.github.io/) \r\n\r\n    HTTP/2.0 is a replacement for how HTTP is expressed \"on the wire\". It is not a ground-up rewrite of the protocol; HTTP methods, status codes and semantics will be the same, and it should be possible to use the same APIs as HTTP/1.x (possibly with some small additions) to represent the protocol.\r\n\r\n## TODO\r\nThis is a very early version, please test and report errors. Wellcome pull-request.\r\n- replace uri parser to mruby-http\r\n- implement some method (post...)\r\n- implement some class (Server, Proxy...)\r\n- write HTTP2 callback function by Ruby block\r\n\r\n## example\r\n- HTTP2 by mruby\r\n\r\n```ruby\r\nr = HTTP2::Client.get 'https://106.186.112.116/'\r\n\r\nr\r\nr.body\r\nr.request_headers\r\nr.response_headers\r\nr.status\r\nr.body\r\nr.body_length\r\nr.stream_id\r\n```\r\n\r\n- response\r\n\r\n```ruby\r\n#r\r\n\r\n{\r\n  :body=>\"---- snip ----\", \r\n  :body_length=>1400, \r\n  :stream_id=>1, \r\n  :frame_send_header_goway=>true, \r\n  :recieve_bytes=>1400.0, \r\n  :request_headers=>{\r\n    \":path\"=>\"/\", \r\n    \":scheme\"=>\"https\", \r\n    \"user-agent\"=>\"mruby-http2/0.0.1\", \r\n    \":authority\"=>\"106.186.112.116\", \r\n    \":method\"=>\"GET\", \r\n    \"accept\"=>\"*/*\"\r\n  }, \r\n  :response_headers=>{\r\n    \"last-modified\"=>\"Wed, 18 Dec 2013 15:12:23 GMT\", \r\n    \"etag\"=>\"\\\"52b1bb57-2450\\\"\", \r\n    \"x-varnish\"=>\"340171131\", \r\n    \"content-length\"=>\"9296\", \r\n    \"date\"=>\"Tue, 31 Dec 2013 11:04:13 GMT\", \r\n    \"age\"=>\"0\", \r\n    \"accept-ranges\"=>\"bytes\", \r\n    \"content-type\"=>\"text/html\", \r\n    \":status\"=>\"200\", \r\n    \"server\"=>\"nginx/1.4.1 (Ubuntu)\", \r\n    \"via\"=>\"1.1 varnish, 1.1 nghttpx\"\r\n  }\r\n}\r\n\r\n#r,status\r\n200\r\n\r\n#r.request_headers\r\n{\r\n  \":path\"=>\"/\",\r\n  \":scheme\"=>\"https\",\r\n  \"user-agent\"=>\"mruby-http2/0.0.1\",\r\n  \":authority\"=>\"106.186.112.116\",\r\n  \":method\"=>\"GET\",\r\n  \"accept\"=>\"*/*\"\r\n}\r\n\r\n#r.response_headers\r\n{\r\n  \"last-modified\"=>\"Wed, 18 Dec 2013 15:12:23 GMT\",\r\n  \"etag\"=>\"\\\"52b1bb57-2450\\\"\",\r\n  \"x-varnish\"=>\"340171131\",\r\n  \"content-length\"=>\"9296\",\r\n  \"date\"=>\"Tue, 31 Dec 2013 11:04:13 GMT\",\r\n  \"age\"=>\"0\",\r\n  \"accept-ranges\"=>\"bytes\",\r\n  \"content-type\"=>\"text/html\",\r\n  \":status\"=>\"200\",\r\n  \"server\"=>\"nginx/1.4.1 (Ubuntu)\",\r\n  \"via\"=>\"1.1 varnish, 1.1 nghttpx\"\r\n}\r\n\r\n#r.body\r\n\r\n```\r\n\r\n## install by mrbgems\r\n - Download\r\n\r\n```\r\ngit clone https://github.com/mruby/mruby.git\r\ngit clone https://github.com/matsumoto-r/mruby-http2.git\r\n```\r\n\r\n - nghttp2 build\r\n\r\n```\r\ncd mruby-http2\r\ngit submodule init\r\ngit submodule update\r\ncd src/nghttp2\r\nautoreconf -i\r\nautomake\r\nautoconf\r\n./configure\r\nmake\r\ncd ../../../\r\n```\r\n\r\n - add conf.gem line to `build_config.rb`\r\n\r\n```\r\ncd mruby\r\n```\r\n```ruby\r\nMRuby::Build.new do |conf|\r\n\r\n  # ... (snip) ...\r\n\r\n  conf.gem '../mruby-http2'\r\nend\r\n```\r\n\r\n - build\r\n\r\n```\r\nrake\r\n```\r\n\r\n# License\r\nunder the MIT License:\r\n\r\n* http://www.opensource.org/licenses/mit-license.php\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}